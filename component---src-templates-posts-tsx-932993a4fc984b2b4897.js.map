{"version":3,"sources":["webpack://tnsicdr.github.io/./src/components/PostExcerpt/PostExcerpt.tsx","webpack://tnsicdr.github.io/./src/templates/Posts.tsx"],"names":["PostExcerpt","props","title","slug","body","date","Typography","Link","to","toLocaleString","year","month","day","hour","minute","data","pageContext","posts","nextPagePath","previousPagePath","allWpPost","nodes","length","GatsbyLayout","map","post","index","content","String","Date","excerptContent","parse","excerpt","Array","isArray","children","splice","key"],"mappings":"6NAUaA,EAAc,SAACC,GACxB,IAAQC,EAA4BD,EAA5BC,MAAOC,EAAqBF,EAArBE,KAAMC,EAAeH,EAAfG,KAAMC,EAASJ,EAATI,KAE3B,OACI,QAACC,EAAA,EAAD,MACI,wBACI,QAAC,EAAAC,KAAD,CAAMC,GAAIL,IACN,kBAAKD,KAET,kBACKG,EAAKI,eAAe,GAAI,CACrBC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,aAGfV,KCcjB,EArCsB,SAAC,GAGhB,IAFLW,EAEI,EAFJA,KAEI,IADJC,YAEMC,GADF,EADWC,aACX,EADyBC,iBAEfJ,EAAKK,UAAUC,OAC7B,OAAKJ,EAAMK,QAKT,QAACC,EAAA,EAAD,KACCN,EAAMO,KAAI,SAACC,EAAMC,GAChB,IAKIC,EALEzB,EAAQ0B,OAAOH,EAAKvB,OACpBG,EAAO,IAAIwB,KAAKJ,EAAKpB,MACrBF,EAAI,SAAYyB,OAAOH,EAAKtB,MAE5B2B,GAAiBC,QAAMN,EAAKO,SAalC,OATIC,MAAMC,QAAQJ,IAChBH,EAAUG,EAAe,GACtBG,MAAMC,QAAQP,EAAQ1B,MAAMkC,WAC7BR,EAAQ1B,MAAMkC,SAASC,OAAO,EAAGT,EAAQ1B,MAAMkC,SAASb,SAG1DK,EAAUG,GAIV,QAAC9B,EAAD,CAAaqC,IAAKX,EAAOvB,KAAMA,EAAMD,MAAOA,EAAOG,KAAMA,EAAMD,KAAMuB,SAxBlE","file":"component---src-templates-posts-tsx-932993a4fc984b2b4897.js","sourcesContent":["import { Link } from 'gatsby';\nimport { Typography } from '../Typography/Typography';\n\ninterface IPostExcerptProps {\n    title: string;\n    slug: string;\n    date: Date;\n    body: string | JSX.Element | JSX.Element[];\n}\n\nexport const PostExcerpt = (props: IPostExcerptProps) => {\n    const { title, slug, body, date } = props;\n\n    return (\n        <Typography>\n            <article>\n                <Link to={slug}>\n                    <h2>{title}</h2>\n                </Link>\n                <h3>\n                    {date.toLocaleString([], {\n                        year: 'numeric',\n                        month: 'numeric',\n                        day: 'numeric',\n                        hour: '2-digit',\n                        minute: '2-digit',\n                    })}\n                </h3>\n                {body}\n            </article>\n        </Typography>\n    );\n};\n","import { graphql } from \"gatsby\";\nimport parse from 'html-react-parser';\nimport { GatsbyLayout } from \"../components/Layout/GatsbyLayout\";\nimport { PostExcerpt } from \"../components/PostExcerpt/PostExcerpt\";\n\nconst PostsTemplate = ({\n  data,\n  pageContext: { nextPagePath, previousPagePath },\n}) => {\n  const posts = data.allWpPost.nodes;\n  if (!posts.length) {\n    return <p>There are no posts at this time.</p>;\n  }\n\n  return (\n    <GatsbyLayout>\n    {posts.map((post, index) => {\n      const title = String(post.title);\n      const date = new Date(post.date);\n      const slug = `/post/${String(post.slug)}`;\n\n      const excerptContent = parse(post.excerpt);\n      let content;\n\n      // For the excerpt, only the text content matters\n      if (Array.isArray(excerptContent)) {\n        content = excerptContent[0];\n        if(Array.isArray(content.props.children)) {\n          content.props.children.splice(1, content.props.children.length);\n        } \n      } else {\n        content = excerptContent;\n      }\n\n      return (\n        <PostExcerpt key={index} slug={slug} title={title} date={date} body={content} />\n      );\n    })}\n    </GatsbyLayout>\n  );\n};\n\nexport default PostsTemplate;\n\nexport const pageQuery = graphql`\n  query PostsQuery($offset: Int!, $postsPerPage: Int!) {\n    allWpPost(\n      sort: { fields: [date], order: DESC }\n      limit: $postsPerPage\n      skip: $offset\n    ) {\n      nodes {\n        excerpt\n        slug\n        date\n        title\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}